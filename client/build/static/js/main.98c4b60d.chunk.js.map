{"version":3,"sources":["history.js","components/Header.js","apis/plugs.js","actions/types.js","components/PlugActivator.js","components/PlugList.js","actions/index.js","components/validate.js","components/PlugForm.js","components/PlugCreate.js","components/PlugEdit.js","components/App.js","reducers/plugReducer.js","reducers/index.js","index.js"],"names":["createBrowserHistory","Header","Navbar","bg","variant","expand","to","Brand","Toggle","aria-controls","Collapse","id","Nav","className","Item","plugs","axios","create","baseURL","CREATE_PLUG","FETCH_PLUG","FETCH_PLUGS","EDIT_PLUG","DELETE_PLUG","PlugActivator","props","onButtonClick","event","console","log","plug","systemCode","unitCode","target","value","execSh","charCodeAt","err","stdout","stderr","Button","onClick","size","PlugList","this","fetchPlugs","map","ListGroup","title","Container","fluid","renderList","React","Component","connect","state","Object","values","dispatch","a","get","response","type","payload","data","validate","formValues","PlugForm","renderInput","input","label","Form","Group","Label","Control","autoComplete","onSubmit","handleSubmit","Field","name","component","reduxForm","form","PlugCreate","formValue","createPlug","post","history","push","PlugEdit","App","path","exact","plugReducer","action","_","mapKeys","omit","combineReducers","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.98c4b60d.chunk.js","sourcesContent":["import { createBrowserHistory } from \"history\";\r\n\r\nexport default createBrowserHistory();\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Nav, Navbar } from \"react-bootstrap\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header>\r\n      <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\r\n        <Link to=\"/\">\r\n          <Navbar.Brand>Peters Plugs</Navbar.Brand>\r\n        </Link>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"mr-auto\">\r\n            <Link to=\"/\" className=\"nav-link active\">\r\n              <Nav.Item>List</Nav.Item>\r\n            </Link>\r\n            <Link to=\"/create\" className=\"nav-link active\">\r\n              <Nav.Item>Create</Nav.Item>\r\n            </Link>\r\n            <Link to=\"/edit\" className=\"nav-link active\">\r\n              <Nav.Item>Edit</Nav.Item>\r\n            </Link>\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import axios from \"axios\";\r\n\r\nconst plugs = axios.create({\r\n  baseURL: \"http://localhost:3001\",\r\n});\r\n\r\nexport default plugs;\r\n","export const CREATE_PLUG = \"CREATE_PLUG\";\r\nexport const FETCH_PLUG = \"FETCH_PLUG\";\r\nexport const FETCH_PLUGS = \"FETCH_PLUGS\";\r\nexport const EDIT_PLUG = \"EDIT_PLUG\";\r\nexport const DELETE_PLUG = \"DELETE_PLUG\";\r\n","import React from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport execSh from \"exec-sh\";\r\n\r\nconst PlugActivator = (props) => {\r\n  const onButtonClick = (event) => {\r\n    console.log(\r\n      `Send code ${props.plug.systemCode} ${props.plug.unitCode} ${event.target.value}`\r\n    );\r\n    execSh(\r\n      \"/home/pi/rcswitch-pi/send \" +\r\n        props.plug.systemCode +\r\n        \" \" +\r\n        (props.plug.unitCode.charCodeAt(0) - 64) +\r\n        \" \" +\r\n        event.target.value,\r\n      function (err, stdout, stderr) {\r\n        if (err) {\r\n          console.log(\"Something went wrong\");\r\n          return;\r\n        }\r\n        if (stderr) {\r\n          console.log(\"stderr: \" + stderr);\r\n          return;\r\n        }\r\n        console.log(\"stdout: \" + stdout);\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        onClick={onButtonClick}\r\n        value=\"1\"\r\n        variant=\"success\"\r\n        size=\"lg\"\r\n        className=\"ml-3\"\r\n      >\r\n        On\r\n      </Button>\r\n      <Button\r\n        onClick={onButtonClick}\r\n        value=\"0\"\r\n        variant=\"danger\"\r\n        size=\"lg\"\r\n        className=\"ml-3\"\r\n      >\r\n        Off\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlugActivator;\r\n","import React from \"react\";\r\nimport { Container, ListGroup } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchPlugs } from \"../actions\";\r\nimport PlugActivator from \"./PlugActivator\";\r\n\r\nclass PlugList extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchPlugs();\r\n  }\r\n\r\n  renderList() {\r\n    console.log(this.props);\r\n    return this.props.plugs.map((plug) => {\r\n      return (\r\n        <ListGroup.Item\r\n          key={plug.id}\r\n          className=\"d-flex align-items-center justify-content-between pr-0\"\r\n        >\r\n          <h4>{plug.title}</h4>\r\n          <PlugActivator plug={plug} />\r\n        </ListGroup.Item>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container fluid>\r\n        <h2>Plugs:</h2>\r\n        <ListGroup variant=\"flush\">\r\n          <ListGroup.Item></ListGroup.Item>\r\n          {this.renderList()}\r\n          <ListGroup.Item></ListGroup.Item>\r\n        </ListGroup>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    plugs: Object.values(state.plugs),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchPlugs })(PlugList);\r\n","import plugs from \"../apis/plugs\";\r\nimport {\r\n  CREATE_PLUG,\r\n  FETCH_PLUG,\r\n  FETCH_PLUGS,\r\n  EDIT_PLUG,\r\n  DELETE_PLUG,\r\n} from \"./types\";\r\nimport history from \"../history\";\r\n\r\nexport const createPlug = (formValues) => async (dispatch) => {\r\n  const response = await plugs.post(\"/plugs\", { ...formValues });\r\n\r\n  dispatch({ type: CREATE_PLUG, payload: response.data });\r\n  console.log(history);\r\n  history.push(\"/\");\r\n};\r\n\r\nexport const fetchPlug = (id) => async (dispatch) => {\r\n  const response = await plugs.get(`/plugs/${id}`);\r\n\r\n  dispatch({ type: FETCH_PLUG, payload: response.data });\r\n};\r\n\r\nexport const fetchPlugs = () => async (dispatch) => {\r\n  const response = await plugs.get(\"/plugs\");\r\n\r\n  dispatch({ type: FETCH_PLUGS, payload: response.data });\r\n};\r\n\r\nexport const editPlug = (id, formValues) => async (dispatch) => {\r\n  const response = await plugs.patch(`/plugs/${id}`, { ...formValues });\r\n\r\n  dispatch({ type: EDIT_PLUG, payload: response.data });\r\n  history.push(\"/\");\r\n};\r\n\r\nexport const deletePlug = (id) => async (dispatch) => {\r\n  await plugs.delete(`/streams/${id}`);\r\n\r\n  dispatch({ type: DELETE_PLUG, payload: id });\r\n  history.push(\"/\");\r\n};\r\n","const validate = (formValues) => {\r\n  const errors = {};\r\n\r\n  return errors;\r\n};\r\n\r\nexport default validate;\r\n","import React from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport validate from \"./validate\";\r\n\r\nclass PlugForm extends React.Component {\r\n  renderInput = ({ input, label }) => {\r\n    return (\r\n      <Form.Group>\r\n        <Form.Label className=\"font-weight-bold\">{label}</Form.Label>\r\n        <Form.Control {...input} autoComplete=\"off\" />\r\n      </Form.Group>\r\n    );\r\n  };\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.onSubmit(formValues);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Form onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n        <Field name=\"title\" component={this.renderInput} label=\"Enter Title\" />\r\n        <Field\r\n          name=\"systemCode\"\r\n          component={this.renderInput}\r\n          label=\"Enter System Code\"\r\n        />\r\n        <Field\r\n          name=\"unitCode\"\r\n          component={this.renderInput}\r\n          label=\"Enter Unit Code\"\r\n        />\r\n        <Button variant=\"primary\" size=\"lg\" type=\"submit\">\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default reduxForm({\r\n  form: \"plugForm\",\r\n  validate,\r\n})(PlugForm);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createPlug } from \"../actions\";\r\nimport PlugForm from \"./PlugForm\";\r\n\r\nclass PlugCreate extends React.Component {\r\n  onSubmit = (formValue) => {\r\n    this.props.createPlug(formValue);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container m-3\">\r\n        <h3>Create a Plug</h3>\r\n        <PlugForm onSubmit={this.onSubmit} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, { createPlug })(PlugCreate);\r\n","import React from \"react\";\r\n\r\nconst PlugEdit = () => {\r\n  return <div>PlugEdit</div>;\r\n};\r\n\r\nexport default PlugEdit;\r\n","import React from \"react\";\r\nimport { Router, Route, Switch } from \"react-router-dom\";\r\nimport history from \"../history\";\r\nimport Header from \"./Header\";\r\nimport PlugList from \"./PlugList\";\r\nimport PlugCreate from \"./PlugCreate\";\r\nimport PlugEdit from \"./PlugEdit\";\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Router history={history}>\r\n          <div>\r\n            <Header />\r\n            <Switch>\r\n              <Route path=\"/\" exact component={PlugList} />\r\n              <Route path=\"/create\" exact component={PlugCreate} />\r\n              <Route path=\"/edit\" exact component={PlugEdit} />\r\n            </Switch>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import _ from \"lodash\";\r\nimport {\r\n  CREATE_PLUG,\r\n  FETCH_PLUG,\r\n  FETCH_PLUGS,\r\n  EDIT_PLUG,\r\n  DELETE_PLUG,\r\n} from \"../actions/types\";\r\n\r\nconst plugReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_PLUGS:\r\n      return { ...state, ..._.mapKeys(action.payload, \"id\") };\r\n    case FETCH_PLUG:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case CREATE_PLUG:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case EDIT_PLUG:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case DELETE_PLUG:\r\n      return _.omit(state, action.payload);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default plugReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport plugReducer from \"./plugReducer\";\r\n\r\nexport default combineReducers({\r\n  plugs: plugReducer,\r\n  form: formReducer,\r\n});\r\n","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport reduxThunk from \"redux-thunk\";\n\nimport App from \"./components/App\";\nimport reducers from \"./reducers\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}