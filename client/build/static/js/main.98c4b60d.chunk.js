(this.webpackJsonphomeautomation_v2=this.webpackJsonphomeautomation_v2||[]).push([[0],{257:function(e,t,n){"use strict";n.r(t);var a=n(4),c=(n(132),n(0)),r=n.n(c),s=n(25),i=n.n(s),o=n(23),l=n(10),u=n(123),j=n(26),b=n(27),d=n(32),p=n(31),O=n(11),h=n(15),m=Object(h.a)(),f=n(42),v=n(261),x=n(265);var g=function(){return Object(a.jsx)("header",{children:Object(a.jsxs)(v.a,{bg:"dark",variant:"dark",expand:"lg",children:[Object(a.jsx)(f.a,{to:"/",children:Object(a.jsx)(v.a.Brand,{children:"Peters Plugs"})}),Object(a.jsx)(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsx)(v.a.Collapse,{id:"basic-navbar-nav",children:Object(a.jsxs)(x.a,{className:"mr-auto",children:[Object(a.jsx)(f.a,{to:"/",className:"nav-link active",children:Object(a.jsx)(x.a.Item,{children:"List"})}),Object(a.jsx)(f.a,{to:"/create",className:"nav-link active",children:Object(a.jsx)(x.a.Item,{children:"Create"})}),Object(a.jsx)(f.a,{to:"/edit",className:"nav-link active",children:Object(a.jsx)(x.a.Item,{children:"Edit"})})]})})]})})},y=n(267),C=n(260),E=n(20),k=n.n(E),w=n(14),S=n(44),P=n(126),_=n.n(P).a.create({baseURL:"http://localhost:3001"}),I="CREATE_PLUG",L="FETCH_PLUG",N="FETCH_PLUGS",T="EDIT_PLUG",U="DELETE_PLUG",G=n(259),D=n(127),A=n.n(D),z=function(e){var t=function(t){console.log("Send code ".concat(e.plug.systemCode," ").concat(e.plug.unitCode," ").concat(t.target.value)),A()("/home/pi/rcswitch-pi/send "+e.plug.systemCode+" "+(e.plug.unitCode.charCodeAt(0)-64)+" "+t.target.value,(function(e,t,n){e?console.log("Something went wrong"):n?console.log("stderr: "+n):console.log("stdout: "+t)}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)(G.a,{onClick:t,value:"1",variant:"success",size:"lg",className:"ml-3",children:"On"}),Object(a.jsx)(G.a,{onClick:t,value:"0",variant:"danger",size:"lg",className:"ml-3",children:"Off"})]})},F=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchPlugs()}},{key:"renderList",value:function(){return console.log(this.props),this.props.plugs.map((function(e){return Object(a.jsxs)(y.a.Item,{className:"d-flex align-items-center justify-content-between pr-0",children:[Object(a.jsx)("h4",{children:e.title}),Object(a.jsx)(z,{plug:e})]},e.id)}))}},{key:"render",value:function(){return Object(a.jsxs)(C.a,{fluid:!0,children:[Object(a.jsx)("h2",{children:"Plugs:"}),Object(a.jsxs)(y.a,{variant:"flush",children:[Object(a.jsx)(y.a.Item,{}),this.renderList(),Object(a.jsx)(y.a.Item,{})]})]})}}]),n}(r.a.Component),R=Object(o.b)((function(e){return{plugs:Object.values(e.plugs)}}),{fetchPlugs:function(){return function(){var e=Object(S.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/plugs");case 2:n=e.sent,t({type:N,payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(F),B=n(263),H=n(264),J=n(262),M=function(e){return{}},X=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).renderInput=function(e){var t=e.input,n=e.label;return Object(a.jsxs)(B.a.Group,{children:[Object(a.jsx)(B.a.Label,{className:"font-weight-bold",children:n}),Object(a.jsx)(B.a.Control,Object(w.a)(Object(w.a)({},t),{},{autoComplete:"off"}))]})},e.onSubmit=function(t){e.props.onSubmit(t)},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(B.a,{onSubmit:this.props.handleSubmit(this.onSubmit),children:[Object(a.jsx)(H.a,{name:"title",component:this.renderInput,label:"Enter Title"}),Object(a.jsx)(H.a,{name:"systemCode",component:this.renderInput,label:"Enter System Code"}),Object(a.jsx)(H.a,{name:"unitCode",component:this.renderInput,label:"Enter Unit Code"}),Object(a.jsx)(G.a,{variant:"primary",size:"lg",type:"submit",children:"Submit"})]})}}]),n}(r.a.Component),K=Object(J.a)({form:"plugForm",validate:M})(X),V=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).onSubmit=function(t){e.props.createPlug(t)},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"container m-3",children:[Object(a.jsx)("h3",{children:"Create a Plug"}),Object(a.jsx)(K,{onSubmit:this.onSubmit})]})}}]),n}(r.a.Component),q=Object(o.b)(null,{createPlug:function(e){return function(){var t=Object(S.a)(k.a.mark((function t(n){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.post("/plugs",Object(w.a)({},e));case 2:a=t.sent,n({type:I,payload:a.data}),console.log(m),m.push("/");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(V),Q=function(){return Object(a.jsx)("div",{children:"PlugEdit"})},W=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(O.b,{history:m,children:Object(a.jsxs)("div",{children:[Object(a.jsx)(g,{}),Object(a.jsxs)(O.c,{children:[Object(a.jsx)(O.a,{path:"/",exact:!0,component:R}),Object(a.jsx)(O.a,{path:"/create",exact:!0,component:q}),Object(a.jsx)(O.a,{path:"/edit",exact:!0,component:Q})]})]})})})}}]),n}(r.a.Component),Y=n(266),Z=n(43),$=n(91),ee=n.n($),te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(w.a)(Object(w.a)({},e),ee.a.mapKeys(t.payload,"id"));case L:case I:case T:return Object(w.a)(Object(w.a)({},e),{},Object(Z.a)({},t.payload.id,t.payload));case U:return ee.a.omit(e,t.payload);default:return e}},ne=Object(l.c)({plugs:te,form:Y.a}),ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,ce=Object(l.e)(ne,ae(Object(l.a)(u.a)));i.a.render(Object(a.jsx)(o.a,{store:ce,children:Object(a.jsx)(W,{})}),document.getElementById("root"))}},[[257,1,2]]]);
//# sourceMappingURL=main.98c4b60d.chunk.js.map